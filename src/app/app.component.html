<div class="layout">
  <header class="app-header">
    <div class="brand">
      <h1>Tabweeb Task Manager</h1>
      <p>Angular 18 Â· RxJS Â· Shared Service</p>
    </div>

    <div class="header-actions">
      <button class="add-btn" (click)="openAddTask()">+ Add Task</button>

      <button type="button" class="theme-toggle" (click)="toggleTheme()">
        <ng-container *ngIf="(theme$ | async) as theme">
          
          @if(theme === 'dark'){
            <span>â˜€ï¸ Light Mode</span>
          }
          
          @if(theme === 'light'){
            <span>ğŸŒ™ Dark Mode</span>
          }
        </ng-container>
      </button>
    </div>
  </header>

  <main>
    
    <app-task-list></app-task-list>
    
  </main>
  
  @if(isAddTaskOpen){
    <div class="modal-backdrop" (click)="closeAddTask()">
      <div class="modal" (click)="$event.stopPropagation()">
        <div class="modal-header">
          <h2>Add Task</h2>
          <button class="close-btn" (click)="closeAddTask()">&times;</button>
        </div>
  
        <app-add-task (taskAdded)="closeAddTask()"></app-add-task>
      </div>
    </div>
  }

</div>
